<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task 4</title>
</head>

<body>
    <pre>
        Exercise:
         Refine the script. Add a discount calculation.
         If the order is from 500, a 5% discount, if the order is from 1000, the discount is 10%, if the order is from 1500, the discount is 15% and the delivery is free.
         Print to the user the cost of the order including the discount and the amount of the discount he received. Also information about the cost of delivery, if it was ordered.
         Use an appropriate conditional construct.
    </pre>
    <script>
        let product1 = "Папір офісний А4, 80 г/м2, 500 л";
        let product2 = "Біндер для паперу 51 мм";
        let product3 = "Ручка шарикова синя";

        let productPrice1 = 280.25;
        let productPrice2 = 56;
        let productPrice3 = 12.50;

        let productQuantity1 = prompt(`Вкажіть кількість товарів '${product1}', ціна ${productPrice1}`, 0);
        let productQuantity2 = prompt(`Вкажіть кількість товарів '${product2}', ціна ${productPrice2}`, 0);
        let productQuantity3 = prompt(`Вкажіть кількість товарів '${product3}', ціна ${productPrice3}`, 0);

        let totalPriceProduct1 = productPrice1 * productQuantity1;
        let totalPriceProduct2 = productPrice2 * productQuantity2;
        let totalPriceProduct3 = productPrice3 * productQuantity3;

        let total = totalPriceProduct1 + totalPriceProduct2 + totalPriceProduct3;
        console.log(`Загальна вартість продукту '${product1}' становить ${totalPriceProduct1}`);
        console.log(`Загальна вартість продукту '${product2}' становить ${totalPriceProduct2}`);
        console.log(`Загальна вартість продукту '${product3}' становить ${totalPriceProduct3}`);

        //рахую відсоток знижки

        let dicsountPercent = 0;
        let isFreeShipping = false;
        if (total > 500 && total < 1000) {
            dicsountPercent = 0.05;
        }
        else if (total > 1000 & total < 1500) {
            dicsountPercent = 0.1;
        }
        else if (total > 1500) {
            dicsountPercent = 0.15;
            isFreeShipping = true;
        }

        // рахую знижку, доставку, варрість товарів - загалом + знижка

        let sheepingPrice = 0;
        let totalWithShipping = 0;
        let discount = 0;

        if (!isFreeShipping) {
            let shipping = confirm("Замовляєте кур'єрську доставку?");
            if (shipping) {
                sheepingPrice = 40;
            }
        }

        discount = total * dicsountPercent;
        totalWithShipping = total - discount + sheepingPrice;

        alert(`Сума замовлення - ${total}\r\n Знижка (${dicsountPercent * 100}%) - ${discount}\r\n Доставка - ${sheepingPrice}\r\n До сплати - ${totalWithShipping}`);

    </script>
</body>

</html>